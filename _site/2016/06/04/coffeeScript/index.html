<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  
  <meta name="keywords" content="node, coffee, CoffeeScript, ES5, ES6, JavaScript">
  

  <title>
    
      [JavaScript] CoffeeScript 基本介紹 &middot; Larry
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-78692824-1', 'auto');
      ga('send', 'pageview');
  </script>
</head>


  <body>

    <div class="sidebar">
    <div class="container sidebar-sticky">
        <div class="sidebar-about">

            <img id="circlePhoto" src="http://i.imgur.com/ZF2xXSG.jpg" width=190 style="display: none;">

            <script>
                if(screen.width > screen.height){  // if not mobile
                    var photo = document.getElementById('circlePhoto');
                    photo.style.display = '';
                }
            </script>

      <h1>
        <a style="font-family: serif;" href="https://github.com/Larry850806">
            Larry Lu
        </a>
      </h1>
      <p class="lead">I am a developer and I love working with people.</p>
    </div>

    <nav class="sidebar-nav">


      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About Me</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/classified/">分類文章</a>
          
        
      
        
          
        
      
        
          
        
      
      <a class="sidebar-nav-item" href="/"> 最新文章 </a>

    </nav>

    <p>&copy; 2016. All rights reserved.</p>
    <br>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">[JavaScript] CoffeeScript 基本介紹</h1>
  <span class="post-date">04 Jun 2016</span>
  <p>可能有些人還沒聽過 CoffeeScript 是什麼<br />
(因為我也是幾天前才知道的XD)<br />
其實 CoffeeScript 就是 Javascript<br />
只是他的語法比較簡潔易懂<br />
寫完 CoffeeScript 之後可以把它編譯成 Javascript<br /></p>

<hr />

<h2 id="coffeescript--">CoffeeScript 的幾個特性 :</h2>
<ul>
  <li>用縮排取代大括號 (Python)</li>
  <li>List Comprehension 語法 (Python)</li>
  <li>OOP</li>
</ul>

<hr />

<h2 id="coffeescript--javascript">怎麼把 CoffeeScript 編譯成 Javascript</h2>
<div class="language-bash highlighter-rouge"><pre class="highlight"><code>npm install -g coffee-script        <span class="c"># 安裝 CoffeeScript 編譯器</span>
coffee -o index.js -c index.coffee  <span class="c"># 把 index.coffee 編譯成 index.js</span>
coffee -o js/ -c coffee/            <span class="c"># 編譯整個資料夾 coffee 到 js</span>
</code></pre>
</div>
<p>如果覺得安裝環境很麻煩<br />
可以直接到<a href="http://coffeescript.org/#try:alert%20%22Hello%20CoffeeScript!%22" target="_blank">這裡</a>就可以開始寫了<br />
它會自動幫你轉換成 Javascript<br /></p>

<hr />

<h2 id="section">基本語法</h2>

<h3 id="section-1">宣告變數</h3>
<p>CoffeeScript 不用分號也不用宣告變數<br />
直接用就可以了<br /></p>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span>
<span class="nx">b</span> <span class="o">=</span> <span class="mi">20</span>
</code></pre>
</div>

<p>編譯後</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">;</span>
<span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nx">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
</code></pre>
</div>

<h3 id="section-2">插入字串</h3>
<p>這是 Ruby 的用法<br />
很方便<br /></p>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">name</span> <span class="o">=</span> <span class="s">"Larry"</span>
<span class="nx">greet</span> <span class="o">=</span> <span class="s">"Hello, </span><span class="si">#{</span><span class="nx">name</span><span class="si">}</span><span class="s">"</span>
</code></pre>
</div>

<p>編譯後</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">;</span>
<span class="nx">name</span> <span class="o">=</span> <span class="s2">"Larry"</span><span class="p">;</span>
<span class="nx">greet</span> <span class="o">=</span> <span class="s2">"Hello, "</span> <span class="o">+</span> <span class="nx">name</span><span class="p">;</span>
</code></pre>
</div>

<h3 id="function">Function</h3>
<p>function 的語法也跟 Ruby 滿像的</p>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">bigger</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="k">if</span> <span class="nx">a</span> <span class="o">&gt;</span> <span class="nx">b</span>
        <span class="k">return</span> <span class="no">true</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="no">false</span>

<span class="nx">alert</span><span class="p">(</span><span class="nx">bigger</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre>
</div>

<p>編譯後</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">bigger</span><span class="p">;</span>

<span class="nx">bigger</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&gt;</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">alert</span><span class="p">(</span><span class="nx">bigger</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>    <span class="c1">// false</span>
</code></pre>
</div>

<h3 id="section-3">交換及指定變數</h3>
<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">y</span><span class="p">,</span> <span class="nx">x</span><span class="p">]</span>
<span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</code></pre>
</div>

<p>編譯後</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">ref1</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">;</span>

<span class="nx">ref</span> <span class="o">=</span> <span class="p">[</span><span class="nx">y</span><span class="p">,</span> <span class="nx">x</span><span class="p">],</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

<span class="nx">ref1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">ref1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">ref1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nx">z</span> <span class="o">=</span> <span class="nx">ref1</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</code></pre>
</div>

<h3 id="range">Range</h3>
<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">..</span><span class="mi">5</span><span class="p">]</span>
<span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">list</span>
    <span class="nx">alert</span> <span class="nx">i</span>
</code></pre>
</div>

<p>編譯後</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">len</span><span class="p">,</span> <span class="nx">list</span><span class="p">;</span>

<span class="nx">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">i</span> <span class="o">=</span> <span class="nx">list</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="list-comprehension">List Comprehension</h3>
<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">alert</span> <span class="nx">i</span> <span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">..</span><span class="mi">10</span><span class="p">]</span>    <span class="c1"># alert [1..10] 內的每個元素
</span></code></pre>
</div>

<p>編譯後</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">=</span> <span class="o">++</span><span class="nx">j</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>   <span class="c1">// 依序 alert 出 1 到 10</span>
</code></pre>
</div>

<h3 id="section-4">物件</h3>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">larry</span> <span class="o">=</span> <span class="p">{</span><span class="na">name</span><span class="o">:</span> <span class="s">"Larry"</span><span class="p">,</span> <span class="na">age</span><span class="o">:</span> <span class="mi">19</span><span class="p">,</span> <span class="na">career</span><span class="o">:</span> <span class="s">"student"</span><span class="p">}</span>

<span class="nx">larry</span> <span class="o">=</span>
    <span class="na">name</span><span class="o">:</span> <span class="s">"Larry"</span>
    <span class="na">age</span><span class="o">:</span> <span class="mi">19</span>
    <span class="na">career</span><span class="o">:</span> <span class="s">"student"</span>
</code></pre>
</div>

<p>編譯後，兩種寫法會得到相同的結果</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">larry</span><span class="p">;</span>

<span class="nx">larry</span> <span class="o">=</span> <span class="p">{</span>
<span class="na">name</span><span class="p">:</span> <span class="s2">"Larry"</span><span class="p">,</span>
      <span class="na">age</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span>
      <span class="na">career</span><span class="p">:</span> <span class="s2">"student"</span>
<span class="p">};</span>
</code></pre>
</div>

<h3 id="oop">OOP</h3>
<p>Javascipt 的 OOP 並不好寫<br />
而且寫起來也不夠直覺<br />
如果用 CoffeeScript 寫起來可以很清楚<br /></p>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nx">Student</span>
    <span class="na">constructor</span><span class="o">:</span> <span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="o">-&gt;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">name</span> <span class="o">=</span> <span class="nx">name</span>
        <span class="k">this</span><span class="p">.</span><span class="na">age</span> <span class="o">=</span> <span class="nx">age</span>
    
    <span class="na">say_hi</span><span class="o">:</span> <span class="p">()</span> <span class="o">-&gt;</span>
        <span class="nx">str</span> <span class="o">=</span> <span class="s">"My name is </span><span class="si">#{</span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="si">}</span><span class="s">, I am </span><span class="si">#{</span><span class="k">this</span><span class="p">.</span><span class="na">age</span><span class="si">}</span><span class="s">."</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>

<span class="nx">larry</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Student</span><span class="p">(</span><span class="s">"Larry"</span><span class="p">,</span> <span class="mi">19</span><span class="p">)</span>
<span class="nx">larry</span><span class="p">.</span><span class="na">say_hi</span><span class="p">()</span>
</code></pre>
</div>

<p>編譯後</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">Student</span><span class="p">,</span> <span class="nx">larry</span><span class="p">;</span>

<span class="nx">Student</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">Student</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">Student</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">say_hi</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">str</span><span class="p">;</span>
        <span class="nx">str</span> <span class="o">=</span> <span class="s2">"My name is "</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">", I am "</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s2">"."</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">alert</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
    <span class="p">};</span>

    <span class="k">return</span> <span class="nx">Student</span><span class="p">;</span>

<span class="p">})();</span>

<span class="nx">larry</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Student</span><span class="p">(</span><span class="s2">"Larry"</span><span class="p">,</span> <span class="mi">19</span><span class="p">);</span>

<span class="nx">larry</span><span class="p">.</span><span class="nx">say_hi</span><span class="p">();</span>     <span class="c1">// My name is Larry, I am 19.</span>
</code></pre>
</div>

<p>用 CoffeeScript 寫真的簡單很多吧 ~<br /></p>

<hr />

<p>以上是基本的 CoffeeScript 介紹<br />
CoffeeScript 有很多優點<br />
不過缺點就是可能要再學一些新的語法<br />
但如果是學過 Python 或是 Ruby 應該不會太難上手<br />
要看更詳細的可以到<a href="http://coffeescript.org/#try:alert%20%22Hello%20CoffeeScript!%22" target="_blank">他們的網站</a><br /></p>

</div>

<p>
GitHub：<a href="https://github.com/Larry850806" target="_blank">@Larry850806</a><br>
FaceBook 粉專：<a href="https://www.facebook.com/賴瑞的程式筆記-1755838524703270/" target="_blank">賴瑞的程式筆記</a><br>
如果有新文章或是看到好的文章也會分享在粉專
</p>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2016/09/20/shallow-vs-deep-copy/">
            [Javascript] 關於 JS 中的淺拷貝和深拷貝
            <small>20 Sep 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/09/04/es7-environment/">
            [Node.js] 自己動手打造 ES7 開發環境
            <small>04 Sep 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/07/25/react-optimization/">
            [Javascript] 如何提高 React App 的效能
            <small>25 Jul 2016</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>

  </body>
</html>
